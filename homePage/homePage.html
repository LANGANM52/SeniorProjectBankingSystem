<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home Page</title>

    <!-- üîê Secure auth check -->
    <script type="module">
        import { enforceAuth } from "../auth.js"; // Adjust path if needed
        enforceAuth();
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Jura&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="homePage.css">
    <link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'>
    <script defer type="module" src="homePage.js"></script>
    <script type="module" src="+review.js"></script>
</head>
<body>
<header>
    <div class="left">
        <h1>Plot Twist</h1>
    </div>
    <div id="authLinks" class="right">
        <!-- Filled dynamically -->
    </div>
</header>

<div class="welcome-message" id="welcomeMessage">
    <h1 id="greetingText">Welcome back!</h1>
    <p>Discover films! Talk to friends! Enjoy your stay!</p>
</div>

<!-- Popular Movies Section -->
<div class="popular-movies-section">
    <h2>Popular Movies</h2>
    <div class="movie-carousel">
        <button class="carousel-arrow left-arrow" onclick="prevPopularMovie()">‚ùÆ</button>
        <div class="carousel-container" id="popularMoviesContainer"></div>
        <button class="carousel-arrow right-arrow" onclick="nextPopularMovie()">‚ùØ</button>
    </div>
</div>

<div class="new-from-friends">
    <h2>New From Friends</h2>
    <div class="movie-carousel">
        <button class="carousel-arrow left-arrow" onclick="prevFriendMovie()">‚ùÆ</button>
        <div class="carousel-container" id="friendsMoviesContainer"></div>
        <button class="carousel-arrow right-arrow" onclick="nextFriendMovie()">‚ùØ</button>
    </div>
</div>

<!-- Genre-Based Recommendations -->
<div id="genreRecommendationsContainer"></div>

<!-- Did You Know Section -->
<section class="did-you-know-section">
    <h2>Did You Know?</h2>
    <div id="didYouKnow" class="did-you-know-container">
        <div class="did-you-know-text">
            <h3 id="actorName">Loading actor name...</h3>
            <p id="actorFact">Loading a fun actor fact...</p>
        </div>
        <img id="actorImage" src="" alt="Actor Image">
    </div>
</section>

<!-- Review Box Modal (unchanged) -->
<div id="reviewBox" class="reviewBox">
    <!-- Review form content here (unchanged) -->
</div>

<footer class="footer">
    <p>&copy; 2025 Plot Twist. All rights reserved.</p>
    <nav class="footer-links">
        <a href="helpCenter.html">Help Center</a> |
        <a href="aboutUs.html">About-Us</a>
    </nav>
</footer>

<!-- Optional: Theme toggle -->
<script type="module" src="Theme.js"></script>

<!-- ‚úÖ Sign-out listener REMOVE IF IT DOESNT WORK -->
<script type="module">
    import { enforceAuth } from "/login&create/auth.js";
    enforceAuth();
</script>
</body>
</html>


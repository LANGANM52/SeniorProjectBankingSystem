<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home Page</title>
    <link rel="stylesheet" href="homePage.css">
    <link rel='stylesheet' href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css'>
    <script defer type="module" src="homePage.js"></script>
    <script type="module" src="+review.js"></script>
</head>
<body>
<header>
    <div class="left">
        <h1>Plot Twist</h1>
    </div>

    <div id="authLinks" class="right">
        <!-- This will be filled by JS based on login state -->
    </div>

</header>

<div class="welcome-message" id="welcomeMessage">
    <h1 id="greetingText">Welcome back!</h1>
    <p>Discover films! Talk to friends! Enjoy your stay!</p>
</div>

<!-- Popular Movies Section -->
<div class="popular-movies-section">
    <h2>Popular Movies</h2>
    <div class="movie-carousel">
        <button class="carousel-arrow left-arrow" onclick="prevPopularMovie()">❮</button>
        <div class="carousel-container" id="popularMoviesContainer">
            <!-- Movie posters will be injected here -->
        </div>
        <button class="carousel-arrow right-arrow" onclick="nextPopularMovie()">❯</button>
    </div>
</div>

<!-- New from Friends Section -->
<div class="new-from-friends">
    <h2>New From Friends</h2>
    <div class="movie-carousel">
        <button class="carousel-arrow left-arrow" onclick="prevFriendMovie()">❮</button>
        <div class="carousel-container" id="friendsMoviesContainer">
            <!-- Movie posters will be injected here -->
        </div>
        <button class="carousel-arrow right-arrow" onclick="nextFriendMovie()">❯</button>
    </div>
</div>

<!-- Genre-Based Recommendations -->
<div id="genreRecommendationsContainer"></div>

<!-- Did You Know Section -->
<section class="did-you-know-section">
    <h2>Did You Know?</h2>
    <div id="didYouKnow" class="did-you-know-container">
        <div class="did-you-know-text">
            <h3 id="actorName">Loading actor name...</h3>
            <p id="actorFact">Loading a fun actor fact...</p>
        </div>
        <img id="actorImage" src="" alt="Actor Image">
    </div>
</section>

<!-- Review Box Modal -->
<div id="reviewBox" class="reviewBox">
    <div class="reviewBoxContainer" id="reviewSearchPage">
        <span class="close">&times;</span>
        <h2>Add to your films</h2>
        <input type="text" id="reviewSearch" placeholder="Search for a movie...">
        <div id="reviewSuggestions" class="review-suggestions"></div>
        <p>Or Add <span id="currentMovie" class="clickable"></span></p>
    </div>

    <div class="reviewForm" id="reviewForm">
        <header class="reviewFormHeader">
            <div class="left">
                <h2 id="backBtn" class="backBtn">Back</h2>
                <h2>I watched...</h2>
            </div>
            <div class="right">
                <span class="close">&times;</span>
            </div>
        </header>

        <div class="review-movie-details">
            <div class="review-left-container">
                <img id="reviewMoviePoster" src="" alt="Movie Poster">
                <button id="changePosterBtn" class="change-poster-btn">Change Poster</button>
            </div>
            <div class="review-right-container">
                <div class="movie-title-container">
                    <h2 id="reviewMovieTitle"></h2>
                    <span id="reviewMovieYear"></span>
                </div>
                <div class="watch-options">
                    <input type="checkbox" id="watchedCheckbox">
                    <label for="watchedCheckbox">Watched on</label>
                    <input type="date" id="watchedDate">
                    <input type="checkbox" id="watchedBeforeCheckbox">
                    <label for="watchedBeforeCheckbox">I've watched this film before</label>
                </div>
                <textarea id="reviewText" placeholder="Add a review..."></textarea>
                <div class="tag-rating-container">
                    <div class="tags-container">
                        <div class="tags">
                            <span class="tag-label">Tags</span>
                            <span class="small-note">Press Tab to complete, Enter to create</span>
                        </div>
                        <input type="text" id="reviewTags" placeholder="eg. netflix">
                    </div>

                    <div class="rating-section">
                        <span class="rating-label">Rating</span>
                        <div class="rating-container">
                            <span class="rating-star" data-value="1"><i class='bx bx-star'></i></span>
                            <span class="rating-star" data-value="2"><i class='bx bx-star'></i></span>
                            <span class="rating-star" data-value="3"><i class='bx bx-star'></i></span>
                            <span class="rating-star" data-value="4"><i class='bx bx-star'></i></span>
                            <span class="rating-star" data-value="5"><i class='bx bx-star'></i></span>
                        </div>
                    </div>
                    <div class="like-section">
                        <span class="like-label">Like</span>
                        <span id="likeButton" class="like-btn"><i class='bx bx-heart'></i></span>
                    </div>
                </div>
                <button id="saveReview" class="save-button">Save</button>
            </div>
        </div>
    </div>

    <!-- Poster Selection Modal -->
    <div id="posterReviewModal" class="poster-modal">
        <div class="poster-modal-content">
            <button class="poster-close">&times;</button>
            <h2>Choose New Poster</h2>
            <div class="poster-grid" id="posterReviewGrid"></div>
            <button id="saveReviewPosterBtn" class="save-button">Save</button>
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy; 2025 Plot Twist. All rights reserved.</p>
    <nav class="footer-links">
        <a href="/help-center">Help Center</a> |
        <a href="aboutUs.html">About-Us</a>
    </nav>
</footer>
<script type="module" src="Theme.js"></script>
</body>
</html>

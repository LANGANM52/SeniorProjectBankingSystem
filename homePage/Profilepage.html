<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Plot Twist</title>
    <link rel="stylesheet" href="ProfilePage.css">
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
    <script type="module" src="functions(profile).js"></script>
    <script type="module" src="search.js"></script>
    <script type="module" src="+review.js"></script>
    <title>Plot Twist</title>
</head>
<body>
<header>
    <div class="left">
        <h1>Plot Twist</h1>
    </div>
    <div class="right">
        <span id="username">Username</span>
        <a href="homePage.html">Home</a>
        <div class="dropdown">
            <a href="#" id="accountLink">Account</a>
            <div class="dropdown-content">
                <a href="Profilepage.html">Profile</a>
                <a href="userSettings.html">Settings</a>
                <a href="#" class="sign-out">Sign out</a>
            </div>
        </div>
        <a href="hub.html">Message</a>
        <a href="#" id="reviewBtn">+Review</a>
        <a href="communities.html">Communities</a>
        <a href="#" id="notificationBell"><i class='bx bx-bell' style="font-size: 24px;"></i></a>
        <select id="searchCategory">
            <option value="">Search For...</option>
            <option value="movies">Movies</option>
            <option value="actors">Actors</option>
            <option value="users">Users</option>
            <option value="genres">Genres</option>
            <option value="crew">Crew</option>
        </select>
        <input type="text" id="searchInput" placeholder="Search..." autocomplete="off">
    </div>
</header>

<div id="suggestions"></div>

<div class="Container">
    <div class="Profile">
        <!-- Profile Picture -->
        <div class="profile-pic">
            <img id="profile-pic" src="https://as1.ftcdn.net/v2/jpg/00/64/67/52/1000_F_64675209_7ve2XQANuzuHjMZXP3aIYIpsDKEbF5dD.jpg" alt="Profile Picture">
            <input type="file" id="fileinput" style="display: none;" accept="image/*" />
        </div>
        <div class="username_display">
            <h1><span id="username_Id">Username</span></h1>
            <div class="bio-display">
                <p id="bioDisplayText">No bio available yet.</p>
            </div>
            <p id="links" class="bio-text"></p>
        </div>
        <!-- Following info-->
        <div class="following_info">
            <p id="films">Flims: 0</p>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const Flims = document.getElementById('films');
                    let current = parseInt(localStorage.getItem('filmCount') || 0);
                    Flims.textContent = `Flims: ${current}`;
                });
            </script>
            <p id="year">This year: 0</p>
            <script>
                document.addEventListener('DOMContentLoaded', () =>{
                    const year = document.getElementById('year');
                    let current = parseInt(localStorage.getItem('yearCount')||0);

                    year.textContent = `This year: ${current}`;
                })
            </script>
            <p id="Listing">Listing: 0</p>
          <script>
              document.addEventListener('DOMContentLoaded', () => {
                  const Listing = document.getElementById('Listing');
                  let current = parseInt(localStorage.getItem('listCount') || 0);
                  Listing.textContent = `Listing: ${current}`;
              });
          </script>
            <p id="FollowingCount">Following: 0</p>
            <p id="FollowersCount">Followers: 0</p>
            <!-- DM button -->
            <button class="dm" onclick="window.location.href='hub.html';">Direct Message</button>
        </div>
    </div>
</div>

<!-- Favorite Films Section -->
<div class="Fav_Container">
    <div class="wrapper">
        <ul class="Fav_movies">
            <h1>Favorite Films</h1>
            <div class="favorite-grid">
                <div class="fav-placeholder" data-index="1">+</div>
                <div class="fav-placeholder" data-index="2">+</div>
                <div class="fav-placeholder" data-index="3">+</div>
                <div class="fav-placeholder" data-index="4">+</div>
                <div class="fav-placeholder" data-index="5">+</div>
                <div class="fav-placeholder" data-index="6">+</div>
            </div>
        </ul>
    </div>
</div>

<!-- Recent Activity Section -->
<div class="recentContainer">
    <div class="recentMovies">
        <h1>Recent Activity</h1>
        <div class="recent-grid" id="recentReviewsContainer"></div>
    </div>
    <div id="favBox" class="favBox">
        <!-- Pop-up for movie search -->
        <div class="favBoxContainer" id="favSearchPage">
            <span class="close">&times;</span>
            <h2>Choose your favorite films</h2>
            <input type="text" id="favSearch" placeholder="Search for a movie...">
            <div id="favSuggestions" class="fav-suggestions"></div>
        </div>

        <!-- Pop-up for poster selection -->
        <div id="posterModal" class="poster-modal">
            <div class="poster-modal-content">
                <button class="poster-close">&times;</button>
                <h2>Choose New Poster</h2>
                <div class="poster-grid" id="posterGrid"></div>
                <button id="savePosterBtn" class="save-button">Save</button>
            </div>
        </div>
    </div>

<!-- Logged-in Username Update -->
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const user = localStorage.getItem("loggedInUser");
        if (user) {
            document.getElementById("username").textContent = user;

            // You can replace this line to simulate visiting another user's profile:
            // document.getElementById("username_Id").textContent = "targetUser";
            document.getElementById("username_Id").textContent = user;
        }
    });
</script>

<!-- Profile functionality (follow logic, etc.) -->
<script type="module" src="Profile.js"></script>
<script type="module" src="Theme.js"></script>
</body>
</html>



